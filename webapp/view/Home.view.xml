<mvc:View controllerName="za.co.fuad.chatapp.controller.Home"
    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"
    xmlns="sap.m" xmlns:l="sap.ui.layout">
	<Page>
    <l:VerticalLayout
		class="sapUiContentPadding"
		width="100%">
		<l:content>
			<List
				items="{/chat_history}" >
				<FeedListItem
					icon="{= ${role} === 'bot' ? '/images/chatbot.png' : '/images/user.png' }"
					info="{= ${role} === 'bot' ? 'Citations (' + ${citation_count} + ')' : '' }"
					timestamp="{timestamp}"
					text="{message}"
					showIcon="true"
					convertLinksToAnchorTags="All">
					<FeedListItemAction 
						text="Citations" 
						icon="sap-icon://display" 
						key="{url}" 
						press=".onActionPressed" 
						visible="{= ${role} === 'bot' }"/>
				</FeedListItem>
			</List>
			<FeedInput post=".onPost">
			</FeedInput>
		</l:content>
	</l:VerticalLayout>
	</Page>
</mvc:View>
